CREATE OR REPLACE VIEW TEST2_10 AS WITH CITE1 AS (
    SELECT
        DISTINCT PUB.STUDENT_COURSE.SID,
        PUB.STUDENT_COURSE.CID
    FROM
        PUB.STUDENT_COURSE
        JOIN PUB.COURSE
        ON PUB.COURSE.FCID = PUB.STUDENT_COURSE.CID
    WHERE
        PUB.COURSE.FCID IS NOT NULL
)
    SELECT
        PUB.STUDENT.SID,
        PUB.STUDENT.NAME,
        PUB.STUDENT_COURSE.CID,
        PUB.COURSE.FCID
    FROM
        PUB.STUDENT
        JOIN PUB.STUDENT_COURSE
        ON PUB.STUDENT.SID = PUB.STUDENT_COURSE.SID
        JOIN PUB.COURSE
        ON PUB.STUDENT_COURSE.CID = PUB.COURSE.CID
    WHERE
        PUB.COURSE.FCID IS NOT NULL
        AND (PUB.STUDENT.SID, PUB.COURSE.FCID)NOT IN (
            SELECT
                SID,
                CID
            FROM
                CITE1
        );
